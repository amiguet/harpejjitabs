(function(t){function e(e){for(var n,r,a=e[0],c=e[1],l=e[2],d=0,h=[];d<a.length;d++)r=a[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&h.push(s[r][0]),s[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(h.length)h.shift()();return o.push.apply(o,l||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],n=!0,a=1;a<i.length;a++){var c=i[a];0!==s[c]&&(n=!1)}n&&(o.splice(e--,1),t=r(r.s=i[0]))}return t}var n={},s={app:0},o=[];function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/harpejjitabs/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var u=c;o.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";i("85ec")},"065f":function(t,e,i){},"0923":function(t,e,i){"use strict";i("1681")},"093c":function(t,e,i){"use strict";i("ad9e")},"0b55":function(t,e,i){},"0f2f":function(t,e,i){t.exports=i.p+"media/D2.0fe14f28.mp3"},"10bf":function(t,e,i){"use strict";i("57f2")},1681:function(t,e,i){},"199e":function(t,e,i){},"2dd5":function(t,e,i){t.exports=i.p+"media/G5.9811e788.mp3"},3932:function(t,e,i){"use strict";i("d778")},"39c6":function(t,e,i){t.exports=i.p+"media/E1.71abe739.mp3"},"3ade":function(t,e,i){"use strict";i("065f")},"44b7":function(t,e,i){t.exports=i.p+"media/A4.48c20c64.mp3"},"49c9":function(t,e,i){},"4d13":function(t,e,i){t.exports=i.p+"media/B1.adec6276.mp3"},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("Toolsbar"),i("div",{attrs:{id:"hidden"}},[i("SoundPlayer"),i("label",{attrs:{for:"loadFile"}},[t._v("Load a file")]),i("input",{attrs:{type:"file",name:"loadFile",id:"loadFile"}})],1),i("div",{attrs:{id:"main"}},[i("Tablature",{staticClass:"tablature"})],1),i("Contextual"),i("Informations"),i("Library")],1)},o=[],r=(i("f644"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("svg",{attrs:{width:t.svgWidth,height:t.svgHeight,id:"tablature"}},[i("rect",{staticStyle:{fill:"white"},attrs:{width:"100%",height:"100%",id:"background"}}),i("g",{style:{transform:"translate("+t.xOffset+"px, "+t.yOffset+"px) scale("+t.scale+")"},attrs:{id:"workzone"}},[i("g",{attrs:{id:"workzoneContainer"}},[t._l(t.number_frets,(function(e,n){return i("line",{key:"frets"+e,staticStyle:{fill:"black","stroke-width":"1px",stroke:"black"},attrs:{x1:t.decX*t.string_spacing,y1:(n+t.decY)*t.frets_spacing+t.frets_spacing/2,x2:t.decX*t.string_spacing+t.frets_size,y2:(n+t.decY)*t.frets_spacing+t.frets_spacing/2}})})),t._l(t.number_string,(function(e,n){return i("line",{key:"strings"+e,staticStyle:{fill:"black","stroke-width":"1px",stroke:"#CCC"},attrs:{x1:(n+t.decX)*t.string_spacing+t.string_spacing,y1:t.decY*t.frets_spacing,x2:(n+t.decX)*t.string_spacing+t.string_spacing,y2:t.decY*t.frets_spacing+t.string_size}})})),i("rect",{directives:[{name:"show",rawName:"v-show",value:t.showBorder,expression:"showBorder"}],staticStyle:{fill:"transparent",stroke:"black"},attrs:{x:t.decX*t.string_spacing+.5,y:t.decY*t.frets_spacing+.5,width:t.frets_size-1,height:t.string_size+30-1,id:"background2"}}),t.showNumbers?i("g",[t._l(t.number_frets,(function(e,n){return i("text",{key:"fretsID"+e,staticStyle:{"font-size":"10px","font-family":"Helvetica, Arial, sans-serif","font-weight":"600"},attrs:{x:t.decX*t.string_spacing+5,y:(n+t.decY)*t.frets_spacing+t.frets_spacing/2-2}},[t._v(" "+t._s(t.getCurrentHarpejji.number_frets-e-t.decY+1)+" ")])})),t._l(t.number_string,(function(e,n){return i("text",{key:"stringsID"+e,staticStyle:{"font-size":"10px","font-family":"Helvetica, Arial, sans-serif","font-weight":"600"},attrs:{x:(n+t.decX)*t.string_spacing+t.string_spacing+2,y:t.decY*t.frets_spacing+t.string_size}},[t._v(" "+t._s(n+t.decX+1)+" ")])})),i("text",{staticStyle:{"font-size":"10px","font-family":"Helvetica, Arial, sans-serif","font-weight":"600"},attrs:{x:(t.decX+t.number_string)*t.string_spacing+5,y:t.decY*t.frets_spacing+15}},[t._v(" "+t._s(t.currentHarpejji)+" ")])],2):t._e(),t.resetTablature?t._e():i("g",t._l(t.getCurrentHarpejji.number_frets,(function(e,n){return i("g",{key:e},t._l(t.getCurrentHarpejji.number_string,(function(s,o){return i("g",{key:s+";"+e},[i("Key",{directives:[{name:"show",rawName:"v-show",value:t.isVisible(o,n),expression:"isVisible(posX, posY)"}],ref:"keys",refInFor:!0,attrs:{"pos-x":o*t.string_spacing+t.string_spacing,"pos-y":n*t.frets_spacing+t.frets_spacing/2,x:o,y:n}})],1)})),0)})),0),i("Title",{directives:[{name:"show",rawName:"v-show",value:!t.editingZone,expression:"!editingZone"}],ref:"title",attrs:{x:t.decX*t.string_spacing,y:t.decY*t.frets_spacing+t.string_size}})],2),i("Resizer",{directives:[{name:"show",rawName:"v-show",value:t.editingZone,expression:"editingZone"}]}),i("Selector")],1)])])}),a=[],c=i("5530"),l=i("b85c"),u=(i("d3b7"),i("ddb0"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("g",{attrs:{transform:"translate("+t.posX+", "+t.posY+")"},on:{click:t.clickKey}},[i("rect",{style:{stroke:"#666",strokeWidth:"1px",fill:t.keyColor},attrs:{width:"15",height:"25",transform:"translate(-7.5, 0)"}}),t.isDo?i("rect",{staticStyle:{fill:"transparent",stroke:"black"},attrs:{width:"10",height:"5",transform:"translate(-5, 7)"}}):t._e(),t.arrowActive?i("Arrow",{ref:"arrow"}):t._e(),t.showNotes?i("text",{staticStyle:{"font-size":"7px","font-family":"Helvetica, Arial, sans-serif"},attrs:{"text-anchor":"middle",x:"0",y:"7",fill:t.textColor}},[t._v(t._s(t.note)+t._s(t.octave)+" ")]):t._e(),i("Finger",{ref:"finger",attrs:{isVisible:t.isVisible,note:t.noteOctave},on:{deleteFinger:t.toggleVisible}})],1)}),d=[],h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade"}},[t.isVisible&&!t.isFreeMode?i("g",[i("circle",{attrs:{r:"10",cy:"20",fill:"transparent",stroke:"#00B0FF",opacity:"1"}},[i("animate",{attrs:{attributeName:"r",values:"12;20",dur:"1s",begin:"indefinite",id:"anim"+t.note}}),i("animate",{attrs:{attributeName:"opacity",values:"1;0",dur:"1s",begin:"anim"+t.note+".begin"}})]),i("path",{attrs:{d:t.path,fill:t.color},on:{click:function(e){return e.stopPropagation(),t.startEdit.apply(null,arguments)}}}),i("ellipse",{attrs:{rx:"22",ry:"1",opacity:"0"}}),i("text",{staticStyle:{fill:"white","font-size":"16px","font-family":"Helvetica, Arial, sans-serif"},attrs:{y:"21","text-anchor":"middle","dominant-baseline":"middle"},on:{click:function(e){return e.stopPropagation(),t.startEdit.apply(null,arguments)}}},[t._v(t._s(t.value)+" ")]),t.isSelected?i("path",{staticStyle:{cursor:"grab"},attrs:{d:t.path,fill:"rgba(240, 240, 240, 0.5)"},on:{mousedown:function(e){return e.stopPropagation(),t.startMoving.apply(null,arguments)},touchstart:function(e){return e.stopPropagation(),t.startMoving.apply(null,arguments)}}}):t._e(),i("transition",{attrs:{name:"fade"}},[t.editing?i("foreignObject",{ref:"fo",attrs:{height:"24",width:"24",x:"-12",y:8},on:{click:function(t){t.stopPropagation()}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"textEdit",attrs:{type:"text"},domProps:{value:t.value},on:{blur:function(e){return e.preventDefault(),e.stopPropagation(),t.doneEdit.apply(null,arguments)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.doneEdit.apply(null,arguments)},keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:t.deleteDown.apply(null,arguments)},function(t){t.stopPropagation()}],input:function(e){e.target.composing||(t.value=e.target.value)}}})]):t._e()])],1):t._e()])},f=[],m=(i("99af"),{name:"Finger",props:["isVisible","note"],data:function(){return{value:"1",color:"#000000",editing:!1,isSelected:!1,hand:0}},methods:{startEdit:function(){var t=this;if(this.$store.state.isFreeMode)this.$parent.playNote();else{this.editing=!0;var e=document.createElement("input");e.type="text",e.style.opacity="0",document.getElementById("hidden").appendChild(e),e.focus(),setTimeout((function(){var i=t.$refs.textEdit;i.focus(),/Mobi|Android/i.test(navigator.userAgent)||i.select(),document.getElementById("hidden").removeChild(e),t.$root.$emit("summonContextual",t)}),0)}},doneEdit:function(){this.editing=!1},deleteDown:function(){""===this.value&&this.delete()},delete:function(){this.$emit("deleteFinger")},changeColor:function(t){this.color=t},changeHand:function(t){this.hand=t},startMoving:function(t){this.$root.$emit("startMoving",t)}},computed:{path:function(){return 0===this.hand?"m -12 20 a 1 1 0 0 1 24 0 a 1 1 0 0 1 -24 0":-1===this.hand?"m -11 15 a 1 1 1 0 1 22 10 q -4 8 -27 10 q 2 -7 5 -20 z ":1===this.hand?"m 11 15 a 1 1 1 0 0 -22 10 q 4 8 27 10 q -2 -7 -5 -20 z":0},allProperty:function(){return"".concat(this.hand,"|").concat(this.color,"|").concat(this.value)},isFreeMode:function(){return this.$store.state.isFreeMode}},watch:{editing:function(t){t||this.$root.$emit("unSummonContextual")},allProperty:function(){this.$store.commit("hasBeenModified")}}}),p=m,g=(i("3ade"),i("2877")),v=Object(g["a"])(p,h,f,!1,null,"3145217c",null),y=v.exports,w=i("2f62"),b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("g",{directives:[{name:"show",rawName:"v-show",value:!t.isFreeMode,expression:"!isFreeMode"}],attrs:{transform:"translate("+t.posX+", "+t.posY+")"},on:{mouseover2:function(e){t.hover=!0},mouseleave2:function(e){t.hover=!1},click2:function(e){return e.stopPropagation(),t.toggleArrow()}}},[i("rect",{style:{fill:t.arrowColor},attrs:{width:"2",height:"15",transform:"translate(-1, 0)"}}),i("rect",{staticStyle:{fill:"transparent"},attrs:{width:"2",height:"7",transform:"translate(-1, 0)"},on:{mouseover:function(e){t.hoverUp=!0},mouseleave:function(e){t.hoverUp=!1},click:function(e){return e.stopPropagation(),t.toggleArrowUp()}}}),i("rect",{staticStyle:{fill:"transparent"},attrs:{width:"2",height:"8",transform:"translate(-1, 7)"},on:{mouseover:function(e){t.hoverDown=!0},mouseleave:function(e){t.hoverDown=!1},click:function(e){return e.stopPropagation(),t.toggleArrowDown()}}}),i("polygon",{style:{fill:t.arrowColorUp},attrs:{points:"0 -4, -3 0, 3 0"},on:{click:function(e){return e.stopPropagation(),t.toggleArrowUp()}}}),i("polygon",{style:{fill:t.arrowColorDown},attrs:{points:"0 19, -3 15, 3 15"},on:{click:function(e){return e.stopPropagation(),t.toggleArrowDown()}}})])},x=[],_={name:"Arrow",components:{},data:function(){return{posX:0,posY:-21,isVisibleUp:!1,isVisibleDown:!1,hover:!1,hoverUp:!1,hoverDown:!1}},methods:{toggleArrowUp:function(){this.isVisibleUp=!this.isVisibleUp},toggleArrowDown:function(){this.isVisibleDown=!this.isVisibleDown}},computed:{arrowColor:function(){return this.isVisibleUp||this.isVisibleDown?"#000000":this.hoverUp||this.hoverDown?"#AAA":"#00000000"},arrowColorUp:function(){return this.isVisibleUp?"#000000":this.hoverUp?"#AAA":"#00000000"},arrowColorDown:function(){return this.isVisibleDown?"#000000":this.hoverDown?"#AAA":"#00000000"},isFreeMode:function(){return this.$store.state.isFreeMode}},mounted:function(){}},$=_,j=(i("d2bd"),Object(g["a"])($,b,x,!1,null,"36feda01",null)),C=j.exports,k=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],S={name:"Key",components:{Arrow:C,Finger:y},props:["posX","posY","x","y"],data:function(){return{isVisible:!1,arrowActive:!1}},methods:{clickKey:function(){this.playNotes&&this.playNote(),this.$parent.editingZone||this.isFreeMode||this.toggleVisible()},toggleVisible:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.isVisible!==t){this.isVisible=!this.isVisible;var e=window.tablature.getKeyAt(this.x,this.y+1);if(this.arrowActive=!1,e&&(e.arrowActive=!1),this.isVisible){this.$refs.finger.startEdit();var i=window.tablature.getKeyAt(this.x,this.y-1);i&&i.isVisible&&(this.arrowActive=!0),e&&e.isVisible&&(e.arrowActive=!0)}else this.$refs.finger&&(this.$refs.finger.color="#000000",this.$refs.finger.hand=0,this.$refs.finger.value="1",this.$refs.finger.editing=!1);this.$store.commit("hasBeenModified")}},playChord:function(){this.isVisible&&"none"!==this.$el.style.display&&this.$root.$emit("addKey",{note:this.noteOctave,x:this.x,y:this.y})},playNote:function(){this.$root.$emit("playNote",this.noteOctave)},resetKey:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(!t||this.$refs.finger&&this.$refs.finger.isSelected)&&this.toggleVisible(!1)},unselectAll:function(){this.$refs.finger&&(this.$refs.finger.isSelected=!1)},selectKey:function(t){this.isVisible&&this.posX>t.x1&&this.posX<t.x2&&this.posY+20>t.y1&&this.posY+20<t.y2&&(this.$refs.finger.isSelected=!0,this.$store.commit("addToSelection",this))},isArrowVisibleUp:function(){return this.$refs.arrow&&this.$refs.arrow.isVisibleUp},isArrowVisibleDown:function(){return this.$refs.arrow&&this.$refs.arrow.isVisibleDown},showArrowUp:function(){var t=this;this.arrowActive=!0,setTimeout((function(){t.$refs.arrow.isVisibleUp=!0}),1)},showArrowDown:function(){var t=this;this.arrowActive=!0,setTimeout((function(){t.$refs.arrow.isVisibleDown=!0}),1)}},computed:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(w["c"])(["showNotes","playNotes","isFreeMode","leftHandMode"])),Object(w["b"])(["getCurrentHarpejji"])),{},{isBlack:function(){return 2===this.note.length},keyColor:function(){return this.isBlack?"#999":"#FFF"},isDo:function(){return"C"===this.note},note:function(){var t=this.getCurrentHarpejji.c1,e=this.x;return this.leftHandMode&&(e=this.getCurrentHarpejji.number_frets-e+2),k[mod(2*e+t-this.y,k.length)]},octave:function(){var t=this.getCurrentHarpejji.c2,e=this.getCurrentHarpejji.c2_2,i=this.getCurrentHarpejji.c3,n=this.x;return this.leftHandMode&&(n=this.getCurrentHarpejji.number_frets-n+2+12),Math.floor((n+t-Math.floor((this.y+e)/2))/6)+i},noteOctave:function(){return this.note+this.octave},textColor:function(){return this.isBlack?"#EEE":"#555"}}),mounted:function(){this.$root.$on("deleteKeys",this.resetKey),this.$root.$on("unselectAll",this.unselectAll),this.$root.$on("selectKey",this.selectKey)}},M=S,E=Object(g["a"])(M,u,d,!1,null,"57efe42a",null),D=E.exports,A=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("g",[i("rect",{ref:"grabZone",staticStyle:{fill:"rgba(46, 213, 115, 0.2)",cursor:"grab"},attrs:{x:t.x1*t.string_spacing,y:t.y1*t.frets_spacing+t.frets_spacing/2,width:(t.x2-t.x1)*t.string_spacing,height:(t.y2-t.y1)*t.frets_spacing},on:{mousedown:function(e){return e.stopPropagation(),t.startDragRect.apply(null,arguments)},touchstart:function(e){return e.stopPropagation(),t.startDragRect.apply(null,arguments)}}}),i("g",{attrs:{transform:"translate("+t.x1*t.string_spacing+", "+(t.y1*t.frets_spacing+t.frets_spacing/2)+")"}},[i("polygon",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"resize tl",attrs:{points:"0,0 10,0 10,4, 4,4 4,10, 0,10",fill:"green"}}),i("circle",{attrs:{r:"30",opacity:"0",x:"x1",y:"y1",cursor:"nwse-resize"},on:{"!mousedown":function(e){return e.stopPropagation(),t.startDrag.apply(null,arguments)},"!touchstart":function(e){return e.stopPropagation(),t.startDrag.apply(null,arguments)}}})]),i("g",{attrs:{transform:"translate("+(t.x2*t.string_spacing-10)+", "+(t.y1*t.frets_spacing+t.frets_spacing/2)+")"}},[i("polygon",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"resize tr",attrs:{points:"0,0 10,0 10,10, 6,10 6,4 0,4",fill:"green"}}),i("circle",{attrs:{r:"30",opacity:"0",x:"x2",y:"y1",cursor:"nesw-resize"},on:{"!mousedown":function(e){return e.stopPropagation(),t.startDrag.apply(null,arguments)},"!touchstart":function(e){return e.stopPropagation(),t.startDrag.apply(null,arguments)}}})]),i("g",{attrs:{transform:"translate("+t.x1*t.string_spacing+", "+(t.y2*t.frets_spacing+t.frets_spacing/2-10)+")"}},[i("polygon",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"resize bl",attrs:{points:"0,0 4,0 4,6 10,6 10,10 0,10",fill:"green"}}),i("circle",{attrs:{r:"30",opacity:"0",x:"x1",y:"y2",cursor:"nesw-resize"},on:{"!mousedown":function(e){return e.stopPropagation(),t.startDrag.apply(null,arguments)},"!touchstart":function(e){return e.stopPropagation(),t.startDrag.apply(null,arguments)}}})]),i("g",{attrs:{transform:"translate("+(t.x2*t.string_spacing-10)+", "+(t.y2*t.frets_spacing+t.frets_spacing/2-10)+")"}},[i("polygon",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"resize br",attrs:{points:"6,0 10,0 10,10 0,10 0,6 6,6",fill:"green"}}),i("circle",{attrs:{r:"30",opacity:"0",x:"x2",y:"y2",cursor:"nwse-resize"},on:{"!mousedown":function(e){return e.stopPropagation(),t.startDrag.apply(null,arguments)},"!touchstart":function(e){return e.stopPropagation(),t.startDrag.apply(null,arguments)}}})]),i("transition",{attrs:{name:"fade"}},[i("text",{directives:[{name:"show",rawName:"v-show",value:t.displayConfirm,expression:"displayConfirm"}],staticStyle:{"font-size":"23px",cursor:"pointer"},attrs:{x:(t.x1+t.x2)/2*t.string_spacing,y:t.y1*t.frets_spacing+t.frets_spacing/2-7,"text-anchor":"middle",fill:"#448aff"},on:{click:t.exitEditZone}},[t._v(" Set range ")])]),i("transition",{attrs:{name:"fade"}},[i("text",{directives:[{name:"show",rawName:"v-show",value:t.displayConfirm,expression:"displayConfirm"}],staticStyle:{"font-size":"15px"},attrs:{x:(t.x1+t.x2)/2*t.string_spacing,y:t.y2*t.frets_spacing+t.frets_spacing/2+40,"text-anchor":"middle",fill:"#444"},on:{click:t.exitEditZone}},[t._v(" Drag the green corners to resize the area ")])])],1)},z=[],H=null;function T(t){null===H&&(H=document.getElementById("tablature").createSVGPoint());var e=document.getElementById("workzone");return void 0!==t.touches?(H.x=t.touches[0].clientX,H.y=t.touches[0].clientY):(H.x=t.clientX,H.y=t.clientY),H.matrixTransform(e.getScreenCTM().inverse())}var O={name:"Resizer",data:function(){return{x1:0,y1:0,x2:0,y2:0,xGrab:0,yGrab:0,widthGrab:0,heightGrab:0,dragged:null,saved:{x1:0,y1:0,x2:0,y2:0},displayConfirm:!0}},methods:{startDrag:function(t){this.dragged=t.target,document.addEventListener("mousemove",this.onMove,!1),document.addEventListener("mouseup",this.stopDrag,!1),document.addEventListener("touchmove",this.onMove,!1),document.addEventListener("touchend",this.stopDrag,!1),document.getElementById("app").style.cursor=this.dragged.getAttribute("cursor"),this.$refs.grabZone.style.cursor=this.dragged.getAttribute("cursor"),t.preventDefault()},onMove:function(t){var e=T(t);this.savePosition(),this[this.dragged.getAttribute("x")]=Math.floor(e.x/this.string_spacing),this[this.dragged.getAttribute("y")]=Math.floor((e.y-this.frets_spacing/2)/this.frets_spacing),this.notValidPosition()&&this.restorePosition(),t.preventDefault(),this.displayConfirm=!1},stopDrag:function(t){document.removeEventListener("mousemove",this.onMove,!1),document.removeEventListener("mouseup",this.stopDrag,!1),document.removeEventListener("touchmove",this.onMove,!1),document.removeEventListener("touchend",this.stopDrag,!1),this.dragged=null,this.$store.dispatch("changeZone",{x1:this.x1,x2:this.x2,y1:this.y1,y2:this.y2}),document.getElementById("app").style.cursor="",this.$refs.grabZone.style.cursor="grab",this.displayConfirm=!0,t.preventDefault()},startDragRect:function(t){document.body.style.cursor="grabbing",this.$refs.grabZone.style.cursor="grabbing";var e=T(t);this.xGrab=e.x-this.x1*this.string_spacing,this.yGrab=e.y-this.y1*this.frets_spacing,this.widthGrab=this.x2-this.x1,this.heightGrab=this.y2-this.y1,document.addEventListener("mousemove",this.onMoveRect,!1),document.addEventListener("mouseup",this.stopDragRect,!1),document.addEventListener("touchmove",this.onMoveRect,!1),document.addEventListener("touchend",this.stopDragRect,!1),t.preventDefault()},onMoveRect:function(t){this.savePosition();var e=T(t);this.x1=Math.floor((e.x-this.xGrab)/this.string_spacing),this.y1=Math.floor((e.y-this.yGrab)/this.frets_spacing),this.x2=this.x1+this.widthGrab,this.y2=this.y1+this.heightGrab,this.notValidPosition()&&this.restorePosition(),t.preventDefault(),this.displayConfirm=!1},stopDragRect:function(t){document.body.style.cursor="",this.$refs.grabZone.style.cursor="grab",document.removeEventListener("mousemove",this.onMoveRect,!1),document.removeEventListener("mouseup",this.stopDragRect,!1),document.removeEventListener("touchmove",this.onMoveRect,!1),document.removeEventListener("touchend",this.stopDragRect,!1),this.$store.dispatch("changeZone",{x1:this.x1,x2:this.x2,y1:this.y1,y2:this.y2}),this.displayConfirm=!0,t.preventDefault()},savePosition:function(){this.saved.x1=this.x1,this.saved.y1=this.y1,this.saved.x2=this.x2,this.saved.y2=this.y2},restorePosition:function(){this.x1=this.saved.x1,this.y1=this.saved.y1,this.x2=this.saved.x2,this.y2=this.saved.y2},notValidPosition:function(){return this.x1>this.x2-2||this.y1>this.y2-1||this.x1<0||this.x2>this.getCurrentHarpejji.number_string+1||this.y1<0||this.y2>this.getCurrentHarpejji.number_frets},fixPosition:function(){var t=this.$store.state.harpejjis[this.currentHarpejji];while(this.x2>t.number_string+1)this.x2--,this.x1>0&&this.x1--;while(this.y2>t.number_frets)this.y2--,this.y1>0&&this.y1--;this.$store.dispatch("changeZone",{x1:this.x1,x2:this.x2,y1:this.y1,y2:this.y2})},reframeToNote:function(t,e,i){var n=this.x1,s=this.y1,o=this.x2-this.x1,r=this.y2-this.y1,a=this.$store.state.harpejjis[this.currentHarpejji];function c(){for(var i=0;i<=a.number_frets-r+1;i++)for(var c=0;c<=a.number_string-o+1;c++)if(window.tablature.getNoteNameAt(c,i)===t&&window.tablature.getNoteOctaveAt(c,i)===e)return{i:c,j:i};for(var l=0;l<a.number_frets-r;l++)for(var u=0;u<a.number_string-o;u++)if(window.tablature.getNoteNameAt(u,l)===t)return{i:u,j:l};return{x1:n,y1:s}}function l(t,e){for(var i=0;i<=a.number_frets-r+1;i++)for(var n=0;n<=a.number_string-o+1;n++)if(window.tablature.getNoteNameAt(n,i)===t&&window.tablature.getNoteOctaveAt(n,i)===e)return{i:n,j:i};return!1}var u=l(t,e),d=1,h=-1;while(!1===u)if(u=l(t,e+d*h),1==h&&d++,h*=-1,d>10)break;!1===u&&(u=c());var f=u.i-this.x1,m=u.j-this.y1;0===f&&0===m||(this.x2=u.i+o,this.y2=u.j+r,this.x1=u.i,this.y1=u.j,this.fixPosition(),window.selector.moveSelected(f,m,i,!1))},exitEditZone:function(){this.$root.$emit("editZone")},updatedPosition:function(){this.x1=this.$store.state.zone.x1,this.y1=this.$store.state.zone.y1,this.x2=this.$store.state.zone.x2,this.y2=this.$store.state.zone.y2}},mounted:function(){window.resizer=this,this.updatedPosition(),this.$root.$on("fixFrame",this.fixPosition),this.$root.$on("updateResizerPosition",this.updatedPosition)},computed:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(w["c"])(["frets_spacing","string_spacing","padding","marker_width","marker_height","text_height","number_string","number_frets","number_string_default","number_frets_default","currentHarpejji"])),Object(w["b"])(["getCurrentHarpejji"])),{},{workzone:function(){return document.getElementById("workzone")}})},N=O,V=(i("0923"),Object(g["a"])(N,A,z,!1,null,"72e31511",null)),L=V.exports,B=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("g",{attrs:{transform:"translate("+t.x+", "+t.y+")",id:"titleContainer"}},[i("rect",{staticStyle:{fill:"transparent"},attrs:{width:this.$parent.frets_size,height:"30"},on:{click:function(e){return e.stopPropagation(),t.editTitle.apply(null,arguments)}}}),i("transition",{attrs:{name:"fade"}},[t.editing?t._e():i("text",{staticStyle:{"font-family":"Helvetica, Arial, sans-serif"},attrs:{x:this.$parent.frets_size/2,y:"17","alignment-baseline":"middle","text-anchor":"middle",fill:""===t.titleT?"#CCC":t.color,empty:""===t.titleT},on:{click:function(e){return e.stopPropagation(),t.editTitle.apply(null,arguments)}}},[t._v(t._s(t.displayTitle))])]),i("transition",{attrs:{name:"fade"}},[t.editing?i("foreignObject",{attrs:{height:"24",width:this.$parent.frets_size,y:"4"},on:{click:function(t){t.stopPropagation()}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.titleT,expression:"titleT"}],ref:"textEdit",attrs:{type:"text",id:"title"},domProps:{value:t.titleT},on:{blur:function(e){return e.preventDefault(),e.stopPropagation(),t.doneEdit.apply(null,arguments)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.doneEdit.apply(null,arguments)},keydown:function(t){t.stopPropagation()},input:function(e){e.target.composing||(t.titleT=e.target.value)}}})]):t._e()])],1)},P=[],G={name:"Title",props:["x","y"],data:function(){return{titleT:"",editing:!1,color:"#000000"}},methods:{editTitle:function(){var t=this;this.editing=!0;var e=document.createElement("input");e.type="text",e.style.opacity="0",document.getElementById("hidden").appendChild(e),e.focus(),setTimeout((function(){var i=t.$refs.textEdit;i.focus(),i.select(),i.setSelectionRange(0,9999),document.getElementById("hidden").removeChild(e)}),0),this.$root.$emit("summonContextual",this)},doneEdit:function(){this.editing=!1,this.$store.dispatch("changeTitle",this.titleT),this.$root.$emit("unSummonContextual")},changeColor:function(t){this.color=t},delete:function(){this.titleT=""},resetTitle:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t||(this.titleT="",this.$store.dispatch("changeTitle",this.titleT))}},computed:Object(c["a"])({displayTitle:function(){return this.titleT||"<Click here to add a title>"}},Object(w["c"])(["string_spacing","frets_spacing","title"])),watch:{title:function(t){this.titleT=t,this.$store.commit("hasBeenModified")}},mounted:function(){this.titleT=this.$store.state.title,this.$root.$on("prepareForExportation",this.prepareForExportation),this.$root.$on("deleteKeys",this.resetTitle)}},F=G,I=(i("f658"),Object(g["a"])(F,B,P,!1,null,"e73793ca",null)),Z=I.exports,R=i("3835");function K(t,e){var i=t.v;try{U[i](t,e)}catch(n){alert("Error parsing the file")}}var U={"1.0":function(t,e){e.editingZone=!1,e.$store.dispatch("changeTitle",t.t),e.$store.dispatch("changeZone",{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}),setTimeout((function(){var i,n=Object(l["a"])(e.$refs.keys.entries());try{for(n.s();!(i=n.n()).done;){var s=Object(R["a"])(i.value,2),o=s[0],r=s[1];0!==t.k[o]&&(r.isVisible=!0,r.$refs.finger.value=t.k[o].v,r.$refs.finger.color=t.k[o].c,r.$refs.finger.editing=!1)}}catch(a){n.e(a)}finally{n.f()}e.calculateSize()}),0)},1.1:function(t,e){e.editingZone=!1,e.$store.dispatch("changeTitle",t.t.v),e.$refs.title.color=t.t.c,e.$store.dispatch("changeZone",{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}),setTimeout((function(){e.$root.$emit("deleteKeys");var i,n=Object(l["a"])(e.$refs.keys.entries());try{for(n.s();!(i=n.n()).done;){var s=Object(R["a"])(i.value,2),o=s[0],r=s[1];0!==t.k[o]&&(r.isVisible=!0,r.$refs.finger.value=t.k[o].v,r.$refs.finger.color=t.k[o].c,r.$refs.finger.editing=!1)}}catch(a){n.e(a)}finally{n.f()}e.calculateSize()}),0)},1.2:function(t,e){e.editingZone=!1,e.$store.dispatch("changeTitle",t.t.v),e.$refs.title.color=t.t.c,e.$store.dispatch("changeZone",{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}),setTimeout((function(){e.$root.$emit("deleteKeys");var i,n=Object(l["a"])(e.$refs.keys.entries());try{for(n.s();!(i=n.n()).done;){var s=Object(R["a"])(i.value,2),o=s[0],r=s[1];0!==t.k[o]&&(r.isVisible=!0,r.$refs.finger.value=t.k[o].v,r.$refs.finger.color=t.k[o].c,r.$refs.finger.hand=t.k[o].h,r.$refs.finger.editing=!1)}}catch(a){n.e(a)}finally{n.f()}e.calculateSize()}),0)},1.3:function(t,e){e.editingZone=!1,e.$store.dispatch("changeZone",{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}),e.$root.$emit("updateResizerPosition"),e.$store.commit("changeHarpejji",t.s),setTimeout((function(){e.$root.$emit("deleteKeys");var i,n=Object(l["a"])(e.$refs.keys.entries());try{for(n.s();!(i=n.n()).done;){var s=Object(R["a"])(i.value,2),o=s[0],r=s[1];0!==t.k[o]&&(r.isVisible=!0,r.$refs.finger.value=t.k[o].v,r.$refs.finger.color=t.k[o].c,r.$refs.finger.hand=t.k[o].h,r.$refs.finger.editing=!1)}}catch(a){n.e(a)}finally{n.f()}e.$store.dispatch("changeTitle",t.t.v),e.$refs.title.color=t.t.c,e.calculateSize()}),0)},1.4:function(t,e){e.editingZone=!1,e.$store.commit("changeHarpejji",t.s),setTimeout((function(){e.$store.dispatch("changeZone",{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}),e.$root.$emit("updateResizerPosition"),setTimeout((function(){e.$root.$emit("deleteKeys");var i,n=Object(l["a"])(e.$refs.keys.entries());try{for(n.s();!(i=n.n()).done;){var s=Object(R["a"])(i.value,2),o=s[0],r=s[1];0!==t.k[o]&&(r.isVisible=!0,r.$refs.finger.value=t.k[o].v,r.$refs.finger.color=t.k[o].c,r.$refs.finger.hand=t.k[o].h,r.$refs.finger.editing=!1,t.k[o].a&&r.showArrow())}}catch(a){n.e(a)}finally{n.f()}e.$store.dispatch("changeTitle",t.t.v),e.$refs.title.color=t.t.c,e.calculateSize()}),2)}),2)},1.5:function(t,e){e.editingZone=!1,e.$store.commit("changeHarpejji",t.s),setTimeout((function(){e.$store.dispatch("changeZone",{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}),e.$root.$emit("updateResizerPosition"),setTimeout((function(){e.$root.$emit("deleteKeys");var i,n=Object(l["a"])(e.$refs.keys.entries());try{for(n.s();!(i=n.n()).done;){var s=Object(R["a"])(i.value,2),o=s[0],r=s[1];0!==t.k[o]&&(r.isVisible=!0,r.$refs.finger.value=t.k[o].v,r.$refs.finger.color=t.k[o].c,r.$refs.finger.hand=t.k[o].h,r.$refs.finger.editing=!1,t.k[o].au&&r.showArrowUp(),t.k[o].ad&&r.showArrowDown())}}catch(a){n.e(a)}finally{n.f()}e.$store.dispatch("changeTitle",t.t.v),e.$refs.title.color=t.t.c,e.calculateSize()}),2)}),2)}},X=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("g",[i("rect",{directives:[{name:"show",rawName:"v-show",value:t.isVisible,expression:"isVisible"}],attrs:{id:"selector",x:t.x,y:t.y,width:t.width,height:t.height}}),t.isMoving?i("g",{staticStyle:{cursor:"grabbing"},attrs:{transform:"translate("+t.movingX+", "+t.movingY+")",opacity:"0.5"}},[t._l(this.$store.state.selected,(function(t){return i("path",{key:"selected"+t.posX+":"+t.posY,attrs:{transform:"translate("+t.posX+", "+t.posY+")",d:t.$refs.finger.path,fill:t.$refs.finger.color}})})),t._l(this.$store.state.selected,(function(e){return i("text",{key:"selectedText"+e.posX+":"+e.posY,staticStyle:{fill:"white","font-size":"16px","font-family":"Helvetica, Arial, sans-serif"},attrs:{x:e.posX,y:e.posY+21,"text-anchor":"middle","dominant-baseline":"middle"}},[t._v(" "+t._s(e.$refs.finger.value)+" ")])}))],2):t._e()])},Y=[],q=[];function W(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.toLowerCase()in q||(q[t.toLowerCase()]=[]),q[t.toLowerCase()].push({f:e,needMetaKey:i})}window.addEventListener("keydown",(function(t){if(t.key.toLowerCase()in q){var e,i=Object(l["a"])(q[t.key.toLowerCase()]);try{for(i.s();!(e=i.n()).done;){var n=e.value,s=n.needMetaKey;s===(t.metaKey||t.ctrlKey)&&(n.f(),t.preventDefault())}}catch(o){i.e(o)}finally{i.f()}}}));var J={name:"Selector",data:function(){return{x1:0,y1:0,x2:0,y2:0,isMoving:!1,movingX:0,movingY:0,mouseX:0,mouseY:0,isVisible:!0}},methods:{onMouseDown:function(t){this.$root.$emit("unselectAll"),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("touchmove",this.onMouseMove),document.addEventListener("touchend",this.onMouseUp);var e=T(t);this.x1=e.x,this.y1=e.y,this.x2=e.x,this.y2=e.y,this.isVisible=!0},onMouseUp:function(t){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("touchmove",this.onMouseMove),document.removeEventListener("touchend",this.onMouseUp),this.$root.$emit("selectKey",{x1:this.x,y1:this.y,x2:this.x+this.width,y2:this.y+this.height}),this.$root.$emit("summonContextual"),this.isVisible=!1,t.preventDefault()},onMouseMove:function(t){var e=T(t);this.x2=e.x,this.y2=e.y,t.preventDefault()},deleteSelected:function(){this.$root.$emit("deleteKeys",!0),this.$root.$emit("unselectAll")},cloneSelected:function(t){this.$parent;var e,i=[],n=Object(l["a"])(t);try{for(n.s();!(e=n.n()).done;){var s=e.value;i.push({x:s.x,y:s.y,value:s.$refs.finger.value,color:s.$refs.finger.color,hand:s.$refs.finger.hand,arrowUp:s.isArrowVisibleUp(),arrowDown:s.isArrowVisibleDown()}),s.toggleVisible(!1)}}catch(o){n.e(o)}finally{n.f()}return i},moveSelected:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=this.$parent;if(null===i){var o=this.$store.state.selected;i=this.cloneSelected(o)}this.$root.$emit("unselectAll");var r,a=Object(l["a"])(i);try{for(a.s();!(r=a.n()).done;){var c,u=r.value,d=Object(l["a"])(s.$refs.keys);try{for(d.s();!(c=d.n()).done;){var h=c.value;u.x+t===h.x&&u.y+e===h.y&&(h.isVisible=!0,h.$refs.finger.value=u.value,h.$refs.finger.color=u.color,h.$refs.finger.hand=u.hand,u.arrowUp&&h.showArrowUp(),u.arrowDown&&h.showArrowDown(),n&&(h.$refs.finger.isSelected=!0,this.$store.commit("addToSelection",h)))}}catch(f){d.e(f)}finally{d.f()}}}catch(f){a.e(f)}finally{a.f()}n&&this.$root.$emit("summonContextual")},startMoving:function(t){document.body.style.cursor="grabbing",this.isMoving=!0;var e=T(t);this.mouseX=e.x,this.mouseY=e.y,this.movingX=0,this.movingY=0,document.addEventListener("mousemove",this.onMoveSelection,!1),document.addEventListener("mouseup",this.stopDragSelection,!1),document.addEventListener("touchmove",this.onMoveSelection,!1),document.addEventListener("touchend",this.stopDragSelection,!1),t.preventDefault()},onMoveSelection:function(t){var e=T(t),i=e.x-this.mouseX+10,n=e.y-this.mouseY+10;this.movingX=this.string_spacing*Math.floor(i/this.string_spacing),this.movingY=this.frets_spacing*Math.floor(n/this.frets_spacing),t.preventDefault()},stopDragSelection:function(t){document.body.style.cursor="",this.isMoving=!1;var e=this.movingX/this.string_spacing,i=this.movingY/this.frets_spacing;this.moveSelected(e,i),document.removeEventListener("mousemove",this.onMoveSelection,!1),document.removeEventListener("mouseup",this.stopDragSelection,!1),document.removeEventListener("touchmove",this.onMoveSelection,!1),document.removeEventListener("touchend",this.stopDragSelection,!1),t.preventDefault()}},computed:Object(c["a"])({x:function(){return Math.min(this.x1,this.x2)},y:function(){return Math.min(this.y1,this.y2)},width:function(){return Math.abs(this.x1-this.x2)},height:function(){return Math.abs(this.y1-this.y2)}},Object(w["c"])(["frets_spacing","string_spacing"])),mounted:function(){var t=this;document.getElementById("background").addEventListener("mousedown",this.onMouseDown,{passive:!0}),document.getElementById("background").addEventListener("touchstart",this.onMouseDown,{passive:!0}),document.getElementById("background2").addEventListener("mousedown",this.onMouseDown,{passive:!0}),document.getElementById("background2").addEventListener("touchstart",this.onMouseDown,{passive:!0}),this.$root.$on("unselectAll",(function(){t.$store.commit("resetSelection"),t.$root.$emit("unSummonContextual")})),this.$root.$on("startMoving",this.startMoving),W("backspace",this.deleteSelected),window.selector=this}},Q=J,tt=(i("3932"),Object(g["a"])(Q,X,Y,!1,null,"32f9e0e4",null)),et=tt.exports,it={name:"Tablature",components:{Selector:et,Key:D,Resizer:L,Title:Z},data:function(){return{editingZone:!1,scale:3,svgHeight:800,svgWidth:800,xOffset:0,yOffset:0,allKeys:{},resetTablature:!1,parentHeight:null}},methods:{calculateSize:function(){var t=document.getElementById("workzoneContainer"),e=t.getBoundingClientRect().width/this.scale,i=t.getBoundingClientRect().height/this.scale,n=i/e,s=document.getElementById("main"),o=s.clientWidth;/Mobi|Android/i.test(navigator.userAgent)&&void 0!==window.maxHeight||(window.maxHeight=window.innerHeight),this.parentHeight&&(window.maxHeight=this.parentHeight);var r=window.maxHeight,a=r/o;this.scale=n<a?o/e:r/i,this.svgHeight=i*this.scale,this.svgWidth=e*this.scale,this.xOffset=-this.decX*this.string_spacing*this.scale,this.yOffset=-this.decY*this.frets_spacing*this.scale,this.$root.$emit("isTooSmall",this.svgWidth>window.innerWidth-140)},isVisible:function(t,e){return t++,t>this.x1&&t<this.x2&&e>=this.y1&&e<this.y2||this.editingZone},editZone:function(){this.$root.$emit("unselectAll"),document.getElementById("workzone").classList.add("animate-workzone"),document.getElementById("tablature").classList.add("animate-workzone"),this.editingZone=!this.editingZone,setTimeout((function(){document.getElementById("workzone").classList.remove("animate-workzone"),document.getElementById("tablature").classList.remove("animate-workzone")}),600)},save:function(){if(!this.editingZone){var t,e={v:"1.5",x1:this.x1,y1:this.y1,x2:this.x2,y2:this.y2,t:{v:this.$refs.title.title,c:this.$refs.title.color},s:this.$store.state.currentHarpejji,k:[]},i=Object(l["a"])(this.$refs.keys);try{for(i.s();!(t=i.n()).done;){var n=t.value;n.isVisible?e.k.push({v:n.$refs.finger.value,c:n.$refs.finger.color,h:n.$refs.finger.hand,au:n.isArrowVisibleUp()?1:0,ad:n.isArrowVisibleDown()?1:0}):e.k.push(0)}}catch(s){i.e(s)}finally{i.f()}nt(JSON.stringify(e),"tablature_"+(this.$store.state.title||"untitled")+".htab"),this.$store.commit("hasBeenSaved")}},loadData:function(t){K(t,this)},setupChord:function(t){var e,i=Object(l["a"])(this.$refs.keys);try{for(i.s();!(e=i.n()).done;){var n=e.value;n.playChord()}}catch(s){i.e(s)}finally{i.f()}this.$root.$emit("playChord",t)},getFirstVisibleKey:function(){return[this.getNoteNameAt(this.x1,this.y1),this.getNoteOctaveAt(this.x1,this.y1)]},getAllKeys:function(){var t,e=[],i=Object(l["a"])(this.$refs.keys);try{for(i.s();!(t=i.n()).done;){var n=t.value;n.isVisible&&e.push(n)}}catch(s){i.e(s)}finally{i.f()}return e},getNoteNameAt:function(t,e){var i=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],n=this.getCurrentHarpejji.c1;return i[mod(2*t+n-e,i.length)]},getNoteOctaveAt:function(t,e){var i=this.getCurrentHarpejji.c2,n=this.getCurrentHarpejji.c2_2,s=this.getCurrentHarpejji.c3;return Math.floor((t+i-Math.floor((e+n)/2))/6)+s},getKeyAt:function(t,e){return this.allKeys[t+"_"+e]}},computed:Object(c["a"])(Object(c["a"])({number_frets:function(){var t=this.y2-this.y1;return this.editingZone?this.getCurrentHarpejji.number_frets:t},number_string:function(){var t=this.x2-this.x1-1;return this.editingZone?this.getCurrentHarpejji.number_string:t},decX:function(){return this.editingZone?0:this.x1},decY:function(){return this.editingZone?0:this.y1},string_size:function(){return this.frets_spacing*(this.number_frets+.5)},frets_size:function(){return this.string_spacing*(this.number_string+1)},x1:function(){return this.$store.state.zone.x1},y1:function(){return this.$store.state.zone.y1},x2:function(){return this.$store.state.zone.x2},y2:function(){return this.$store.state.zone.y2}},Object(w["c"])(["frets_spacing","string_spacing","padding","marker_width","marker_height","text_height","number_string_default","number_frets_default","showNumbers","showBorder","currentHarpejji","zone.x1"])),Object(w["b"])(["getCurrentHarpejji"])),mounted:function(){var t=this;window.addEventListener("resize",this.calculateSize),this.calculateSize(),this.$root.$on("editZone",this.editZone),this.$root.$on("save",this.save),this.$root.$on("loadData",this.loadData),this.$root.$on("needResize",this.calculateSize),this.$root.$on("changeShowNumbers",this.changeShowNumbers),this.$root.$on("setupChord",this.setupChord),window.tablature=this,this.allKeys={};var e,i=Object(l["a"])(this.$refs.keys);try{for(i.s();!(e=i.n()).done;){var n=e.value;this.allKeys[n.x+"_"+n.y]=n}}catch(s){i.e(s)}finally{i.f()}window.addEventListener("message",(function(e){if("setVSize"==e.data.event){null===(i=e.data)||void 0===i||i.vw;var i,n,s=null===(n=e.data)||void 0===n?void 0:n.vh;t.parentHeight=s,setTimeout((function(){return t.calculateSize()}),10),t.calculateSize()}}))},beforeDestroy:function(){window.removeEventListener("resize",this.calculateSize)},watch:{editingZone:function(){var t=this;setTimeout((function(){return t.calculateSize()}),1)},x1:function(){this.calculateSize()},y1:function(){this.calculateSize()},x2:function(){this.calculateSize()},y2:function(){this.calculateSize()},currentHarpejji:function(){var t=this;this.resetTablature=!0,setTimeout((function(){t.resetTablature=!1}),0),setTimeout((function(){t.calculateSize(),t.allKeys={};var e,i=Object(l["a"])(t.$refs.keys);try{for(i.s();!(e=i.n()).done;){var n=e.value;t.allKeys[n.x+"_"+n.y]=n}}catch(s){i.e(s)}finally{i.f()}}),100)}}};function nt(t,e){var i=document.createElement("a");i.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),i.setAttribute("download",e),i.style.display="none",document.getElementById("hidden").appendChild(i),i.click(),document.getElementById("hidden").removeChild(i)}var st=it,ot=(i("deb6"),Object(g["a"])(st,r,a,!1,null,"0c16d1bb",null)),rt=ot.exports,at=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"toolsbar"},[i("md-drawer",{class:{smaller:t.isSmaller},attrs:{"md-active":t.menuVisible,"md-persistent":"mini",id:"mdDrawer"},on:{"update:mdActive":function(e){t.menuVisible=e},"update:md-active":function(e){t.menuVisible=e}}},[i("md-list",[i("md-list-item",{staticClass:"first-logo",staticStyle:{height:"40px"}},[i("span",{staticClass:"md-list-item-text",staticStyle:{height:"40px"}},[i("img",{staticClass:"logo-marcodi",attrs:{src:"img/logo_Marcodi.webp",alt:"Logo Marcodi"}})])]),i("md-list-item",{staticClass:"first-child",attrs:{title:"Menu"},on:{click:t.toggleMenu}},[i("span",{staticClass:"menu-button"},[i("font-awesome-icon",{attrs:{icon:"bars"}})],1),i("span",{staticClass:"md-list-item-text"},[t._v("Harpejji® Tabs")])]),i("md-list-item",{attrs:{title:"Set note range (R)"},on:{click:t.editZone}},[i("font-awesome-icon",{attrs:{icon:"expand"}}),i("span",{staticClass:"md-list-item-text"},[t._v("Set note range")])],1),i("md-list-item",{attrs:{title:"New"},on:{click:t.newTablature}},[i("font-awesome-icon",{attrs:{icon:"file"}}),i("span",{staticClass:"md-list-item-text"},[t._v("New")])],1),i("md-list-item",{attrs:{title:"Change Harpejji® model"},on:{click:function(e){t.showHarpejjiMenu=!0}}},[i("md-menu",{attrs:{"md-size":"small","md-offset-x":100,"md-offset-y":-96,"md-align-trigger":!0,"md-active":t.showHarpejjiMenu},on:{"update:mdActive":function(e){t.showHarpejjiMenu=e},"update:md-active":function(e){t.showHarpejjiMenu=e}}},[i("span",{staticClass:"text-icon text-icon-small"},[t._v(t._s(t.currentHarpejji))]),i("span",{staticClass:"md-list-item-text"},[t._v("Change Harpejji® model")]),i("md-menu-content",[i("md-menu-item",{on:{click:function(e){return t.changeHarpejji("U12")}}},[t._v("U12")]),i("md-menu-item",{on:{click:function(e){return t.changeHarpejji("G16")}}},[t._v("G16")]),i("md-menu-item",{on:{click:function(e){return t.changeHarpejji("K24")}}},[t._v("K24")])],1)],1)],1),t.displayGroup3?i("md-list-item",[i("md-divider")],1):t._e(),t.displayGroup3?i("md-list-item",{attrs:{title:"Play simultaneously (P)"},on:{click:t.playChord}},[i("font-awesome-icon",{attrs:{icon:"play",size:"lg"}}),i("span",{staticClass:"md-list-item-text"},[t._v("Play simultaneously")])],1):t._e(),t.displayGroup3?i("md-list-item",{attrs:{title:"Play sequentially (S)"},on:{click:t.playChordArpeggiate}},[i("font-awesome-icon",{attrs:{icon:"music",size:"lg"}}),i("span",{staticClass:"md-list-item-text"},[i("label",{attrs:{for:"playDelay"}},[t._v("Play sequentially ("+t._s(t.playDelay)+"s)")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.playDelay,expression:"playDelay"}],staticStyle:{width:"100%"},attrs:{type:"range",min:"0.05",max:"0.5",step:"0.01",id:"playDelay"},domProps:{value:t.playDelay},on:{__r:function(e){t.playDelay=e.target.value}}})])],1):t._e(),t.displayGroup3?i("md-list-item",{attrs:{title:"Free play mode"},on:{click:function(e){t.isFreeMode=!t.isFreeMode}}},[i("span",{staticClass:"stack",class:{danger:t.isFreeMode}},[i("font-awesome-icon",{staticClass:"far-circle",attrs:{icon:["far","play-circle"],size:"lg"}}),t.isFreeMode?t._e():i("font-awesome-icon",{attrs:{icon:"slash",size:"lg"}})],1),i("span",{staticClass:"md-list-item-text"},[t._v("Free play mode")])]):t._e(),t.displayGroup2?i("md-list-item",[i("md-divider")],1):t._e(),t.displayGroup2?i("md-list-item",{attrs:{title:"Export to PNG"},on:{click:t.downloadPNG}},[i("font-awesome-icon",{attrs:{icon:"file-image",size:"lg"}}),i("span",{staticClass:"md-list-item-text"},[t._v("Export to PNG")])],1):t._e(),t.displayGroup2?i("md-list-item",{attrs:{title:"Export to SVG"},on:{click:t.downloadSVG}},[i("font-awesome-icon",{attrs:{icon:"file-code",size:"lg"}}),i("span",{staticClass:"md-list-item-text"},[t._v("Export to SVG")])],1):t._e(),t.displayGroup2?i("md-list-item",[i("md-divider")],1):t._e(),t.displayGroup2?i("md-list-item",{attrs:{title:"Save (Ctrl+S)"},on:{click:t.save}},[i("font-awesome-icon",{attrs:{icon:"file-download",size:"lg"}}),i("span",{staticClass:"md-list-item-text"},[t._v("Save")])],1):t._e(),t.displayGroup2?i("md-list-item",{attrs:{title:"Load (Ctrl+O)"},on:{click:t.load}},[i("font-awesome-icon",{attrs:{icon:"file-upload",size:"lg"}}),i("span",{staticClass:"md-list-item-text"},[t._v("Load")])],1):t._e(),t.displayGroup1?i("md-list-item",[i("md-divider")],1):t._e(),t.displayGroup1?i("md-list-item",{attrs:{title:"Play notes on click (M)"},on:{click:function(e){t.playNotes=!t.playNotes}}},[i("font-awesome-icon",{attrs:{icon:t.playNotes?"volume-up":"volume-mute",size:"lg"}}),i("span",{staticClass:"md-list-item-text"},[t._v("Play notes on click")])],1):t._e(),t.displayGroup1?i("md-list-item",{attrs:{title:"Show fret/string numbers (F)"},on:{click:function(e){t.showNumbers=!t.showNumbers}}},[i("span",{staticClass:"stack"},[i("font-awesome-icon",{attrs:{icon:"list-ol",size:"lg"}}),t.showNumbers?t._e():i("font-awesome-icon",{attrs:{icon:"slash",size:"lg"}})],1),i("span",{staticClass:"md-list-item-text"},[t._v("Show fret/string numbers")])]):t._e(),t.displayGroup1?i("md-list-item",{attrs:{title:"Show note name (N)"},on:{click:function(e){t.showNotes=!t.showNotes}}},[i("span",{staticClass:"stack"},[i("span",{staticClass:"text-icon"},[t._v("C4")]),t.showNotes?t._e():i("font-awesome-icon",{attrs:{icon:"slash",size:"lg"}})],1),i("span",{staticClass:"md-list-item-text"},[t._v("Show note names")])]):t._e(),t.displayGroup1?i("md-list-item",{attrs:{title:"Show frame border"},on:{click:function(e){t.showBorder=!t.showBorder}}},[i("span",{staticClass:"stack"},[i("font-awesome-icon",{staticClass:"far-square",attrs:{icon:["far","square"],size:"lg"}}),t.showBorder?t._e():i("font-awesome-icon",{attrs:{icon:"slash",size:"lg"}})],1),i("span",{staticClass:"md-list-item-text"},[t._v("Show frame border")])]):t._e(),i("md-list-item",[i("md-divider")],1),i("md-list-item",{attrs:{title:"Scale Library"},on:{click:t.displayLibrary}},[i("font-awesome-icon",{attrs:{icon:"book",size:"lg"}}),i("span",{staticClass:"md-list-item-text"},[t._v("Scale library")])],1),i("md-list-item",{attrs:{title:"Information"},on:{click:t.displayInformations}},[i("font-awesome-icon",{attrs:{icon:"info-circle",size:"lg"}}),i("span",{staticClass:"md-list-item-text"},[t._v("Information")])],1)],1)],1)],1)},ct=[],lt=i("2909");i("3ca3"),i("2b3d"),i("ac1f"),i("466d");function ut(t){var e=vt();ft(e,"tablature_"+t+".svg")}function dt(t){var e=vt();mt(e,(function(e){gt(e,"tablature_"+t+".png")}))}function ht(t){t.setAttribute("xmlns","http://www.w3.org/2000/svg");var e=t.outerHTML,i='<?xml version="1.0" standalone="no"?>\r\n',n=new Blob([i,e],{type:"image/svg+xml"});return URL.createObjectURL(n)}function ft(t,e){var i=ht(t);gt(i,e)}function mt(t,e){var i={width:t.getAttribute("width"),height:t.getAttribute("height")},n=ht(t);pt(n,i,(function(t){e(t),URL.revokeObjectURL(n)}))}function pt(t,e,i){var n=document.createElement("img");document.getElementById("hidden").appendChild(n),n.onload=function(){var t=document.createElement("canvas"),s=2*(window.devicePixelRatio||1);t.width=e.width*s,t.height=e.height*s,t.style.width=e.width+"px",t.style.height=e.height+"px";var o=t.getContext("2d");o.setTransform(s,0,0,s,0,0),o.imageSmoothingEnabled=!1,document.getElementById("hidden").appendChild(t),o.drawImage(n,0,0,1*e.width,1*e.height);var r=t.toDataURL("image/png");i(r),document.getElementById("hidden").removeChild(t),document.getElementById("hidden").removeChild(n)},n.src=t}function gt(t,e){var i=document.createElement("a");i.href=t,i.innerHTML="Download",document.getElementById("hidden").appendChild(i),i.download=e,i.click(),document.getElementById("hidden").removeChild(i)}function vt(){var t=document.getElementById("tablature").outerHTML,e=document.createElement("iframe");document.getElementById("hidden").appendChild(e);var i=e.contentWindow.document;i.body.innerHTML=t;var n,s=i.getElementById("tablature"),o=i.getElementsByTagName("foreignObject"),r=Object(l["a"])(o);try{for(r.s();!(n=r.n()).done;){var a=n.value;a.remove()}}catch(k){r.e(k)}finally{r.f()}var c=i.getElementById("titleContainer"),u=c.getElementsByTagName("text");if(void 0!==u){var d=u[0];if("true"===d.getAttribute("empty")){var h=c.getBoundingClientRect().height;window.titleContainer=c,c.remove();var f=s.getAttribute("height");s.setAttribute("height",f-h)}}var m=i.getElementById("workzone").style.transform.match(/-?\d+\.?\d*/g),p=+m[0],g=+m[1],v=+m[2];i.getElementById("workzone").style.transform="translate("+Math.round(p/v)+"px, "+Math.round(g/v)+"px)";var y=i.getElementById("workzoneContainer"),w=y.getBoundingClientRect().width,b=y.getBoundingClientRect().height;s.setAttribute("width",w),s.setAttribute("height",b);var x=!0;while(x){x=!1;var _,$=Object(l["a"])(i.getElementsByTagName("*"));try{for($.s();!(_=$.n()).done;){var j=_.value;0===j.getBoundingClientRect().width&&0===j.getBoundingClientRect().height&&(j.remove(),x=!0),"none"===j.style.display&&(j.remove(),x=!0)}}catch(k){$.e(k)}finally{$.f()}}var C=(s.outerHTML+"").replaceAll(/<!--.*?-->/g,"").replaceAll(/ data-v-[a-z0-9]*=""/gm,"");return i.body.innerHTML=C,i.body.children[0]}var yt={name:"Toolsbar",data:function(){return{menuVisible:!1,isSmaller:!1,playDelay:.3,showHarpejjiMenu:!1,showGroup1:!0,showGroup2:!0,showGroup3:!0}},methods:{toggleMenu:function(){this.menuVisible=!this.menuVisible},editZone:function(){this.$root.$emit("editZone"),this.menuVisible=!1},save:function(){this.$root.$emit("save")},readFile:function(t){var e=this,i=new FileReader;i.onload=function(){try{var n=JSON.parse(i.result);e.$root.$emit("loadData",n),t.target.value=""}catch(t){alert("Error parsing the file")}},i.readAsText(t.target.files[0])},load:function(){document.getElementById("loadFile").click()},downloadSVG:function(){ut(this.$store.state.title||"untitled",this)},downloadPNG:function(){dt(this.$store.state.title||"untitled",this)},changeIsTooSmall:function(t){this.isSmaller=t},playChord:function(){this.$root.$emit("setupChord",0)},playChordArpeggiate:function(){this.$root.$emit("setupChord",this.playDelay)},newTablature:function(t){this.$store.state.hasBeenModified&&!confirm("Some change has not been saved, are you sure you want to start a new document ?")||(this.$root.$emit("deleteKeys"),this.showHarpejjiMenu=!0,this.$store.commit("hasBeenSaved"))},changeHarpejji:function(t){if(this.currentHarpejji!==t){var e=window.tablature.getFirstVisibleKey(),i=window.selector.cloneSelected(window.tablature.getAllKeys());this.$store.commit("changeHarpejji",t),setTimeout((function(){var t;(t=window.resizer).reframeToNote.apply(t,Object(lt["a"])(e).concat([i]))}),300)}},displayInformations:function(){this.$root.$emit("displayInformations")},displayLibrary:function(){this.$root.$emit("displayLibrary")},calculateMenuSize:function(){var t=document.getElementById("mdDrawer"),e=t.getBoundingClientRect().height;e<=436?(this.showGroup1=!1,this.showGroup2=!1,this.showGroup3=!1):e<=656?(this.showGroup1=!1,this.showGroup2=!1,this.showGroup3=!0):e<=846?(this.showGroup1=!1,this.showGroup2=!0,this.showGroup3=!0):(this.showGroup1=!0,this.showGroup2=!0,this.showGroup3=!0)}},computed:Object(c["a"])({showNumbers:{get:function(){return this.$store.state.showNumbers},set:function(t){return this.$store.commit("updateShowNumbers",t)}},showNotes:{get:function(){return this.$store.state.showNotes},set:function(t){return this.$store.commit("updateShowNotes",t)}},showBorder:{get:function(){return this.$store.state.showBorder},set:function(t){return this.$store.commit("updateShowBorder",t)}},playNotes:{get:function(){return this.$store.state.playNotes},set:function(t){return this.$store.commit("updatePlayNotes",t)}},isFreeMode:{get:function(){return this.$store.state.isFreeMode},set:function(t){return this.$store.commit("changeFreeMode",t)}},displayGroup1:function(){return this.showGroup1||this.menuVisible},displayGroup2:function(){return this.showGroup2||this.menuVisible},displayGroup3:function(){return this.showGroup3||this.menuVisible}},Object(w["c"])(["currentHarpejji"])),mounted:function(){var t=this;this.$root.$on("isTooSmall",this.changeIsTooSmall),this.$root.$on("changeHarpejji",this.changeHarpejji),document.getElementById("loadFile").addEventListener("change",this.readFile),W("R",this.editZone),W("P",this.playChord),W("S",this.playChordArpeggiate),W("M",(function(){return t.playNotes=!t.playNotes})),W("N",(function(){return t.showNotes=!t.showNotes})),W("F",(function(){return t.showNumbers=!t.showNumbers})),W("S",this.save,!0),W("O",this.load,!0),W("N",this.newTablature,!0),W("L",(function(){return t.$store.commit("changeLeftHandMode")})),window.addEventListener("resize",(function(){return t.calculateMenuSize()})),setTimeout((function(){return t.calculateMenuSize()}),500)}},wt=yt,bt=(i("093c"),i("d5b4"),Object(g["a"])(wt,at,ct,!1,null,"3382b5b6",null)),xt=bt.exports,_t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isVisible,expression:"isVisible"}],staticClass:"contextual-container",style:{left:t.left+"px",top:t.top+"px"}},[i("div",{staticClass:"contextual"},[i("div",{staticClass:"bubble"},[i("div",{staticClass:"colors bubble-component"},[t.hasntDifferentShape?t._e():i("div",{staticClass:"first-line"},[i("font-awesome-icon",{attrs:{icon:"chevron-circle-left"},on:{click:function(e){return t.changeHand(-1)}}}),i("font-awesome-icon",{attrs:{icon:"circle"},on:{click:function(e){return t.changeHand(0)}}}),i("font-awesome-icon",{attrs:{icon:"chevron-circle-right"},on:{click:function(e){return t.changeHand(1)}}})],1),i("div",t._l(t.colors,(function(e){return i("div",{key:e,style:{backgroundColor:e},on:{click:function(i){return t.changeColor(e)}}})})),0),i("div",t._l(t.colors2,(function(e){return i("div",{key:e,style:{backgroundColor:e},on:{click:function(i){return t.changeColor(e)}}})})),0)]),i("div",{staticClass:"options bubble-component",on:{click:t.deleteCurrent}},[i("svg",{staticClass:"bi bi-trash",attrs:{width:"32px",height:"32px",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}}),i("path",{attrs:{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}})])])]),i("div",{staticClass:"triangle",style:{left:this.x-this.left-7+"px"}})])])])},$t=[],jt={name:"Contextual",data:function(){return{isVisible:!1,x:200,y:200,current:null,colors:["#000000","#FF5722","#FFB300"],colors2:["#42b983","#b8a3ff","#3eddff"]}},methods:{summonContextual:function(t){if(t){var e=t.$el.getBoundingClientRect();this.x=e.left+e.width/2,this.y=e.top-15,this.current=t,this.isVisible=!0}else if(this.current=this.$store.state.selected,this.current.length>=1){var i,n=99999999,s=-99999999,o=99999999,r=Object(l["a"])(this.current);try{for(r.s();!(i=r.n()).done;){var a=i.value,c=a.$el.getBoundingClientRect(),u=c.left+c.width/2;u>s&&(s=u),u<n&&(n=u),c.top<o&&(o=c.y)}}catch(d){r.e(d)}finally{r.f()}this.x=(n+s)/2,this.y=o,this.isVisible=!0}},unSummonContextual:function(){this.isVisible=!1},deleteCurrent:function(){if(Array.isArray(this.current)){var t,e=Object(l["a"])(this.current);try{for(e.s();!(t=e.n()).done;){var i=t.value;i.$refs.finger.delete()}}catch(n){e.e(n)}finally{e.f()}}else this.current.delete();this.unSummonContextual(),this.$root.$emit("unselectAll")},changeColor:function(t){if(Array.isArray(this.current)){var e,i=Object(l["a"])(this.current);try{for(i.s();!(e=i.n()).done;){var n=e.value;n.$refs.finger.changeColor(t)}}catch(s){i.e(s)}finally{i.f()}}else this.current.changeColor(t)},changeHand:function(t){if(Array.isArray(this.current)){var e,i=Object(l["a"])(this.current);try{for(i.s();!(e=i.n()).done;){var n=e.value;n.$refs.finger.changeHand(t)}}catch(s){i.e(s)}finally{i.f()}}else this.current.changeHand(t)}},computed:{left:function(){return Ct(this.x-80,0,window.innerWidth-160)},top:function(){return this.y-60},hasntDifferentShape:function(){return!Array.isArray(this.current)&&null!==this.current&&void 0===this.current.changeHand}},mounted:function(){this.$root.$on("summonContextual",this.summonContextual),this.$root.$on("unSummonContextual",this.unSummonContextual)}};function Ct(t,e,i){return Math.max(Math.min(t,i),e)}var kt=jt,St=(i("d7dd"),Object(g["a"])(kt,_t,$t,!1,null,"3df096e3",null)),Mt=St.exports,Et=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div")},Dt=[],At=(i("d81d"),i("5e54")),zt=i("5c78"),Ht=i.n(zt),Tt=i("44b7"),Ot=i.n(Tt),Nt=i("a570"),Vt=i.n(Nt),Lt=i("4d13"),Bt=i.n(Lt),Pt=i("0f2f"),Gt=i.n(Pt),Ft=i("817d"),It=i.n(Ft),Zt=i("ffa6"),Rt=i.n(Zt),Kt=i("d9f1"),Ut=i.n(Kt),Xt=i("39c6"),Yt=i.n(Xt),qt=i("8504"),Wt=i.n(qt),Jt=i("59da"),Qt=i.n(Jt),te=i("2dd5"),ee=i.n(te),ie={name:"SoundPlayer",data:function(){return{synth:null,playlist:[]}},methods:{playNote:function(t){this.synth.triggerAttackRelease(t,1)},addKey:function(t){this.playlist.push(t)},playChord:function(){for(var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=this.playlist.sort((function(t,e){return e.y-t.y})).sort((function(t,e){return t.x-e.x})).map((function(t){return t.note})),n=At["b"](),s=function(s){t.synth.triggerAttack(i[s],n+s*e),setTimeout((function(){document.getElementById("anim"+i[s]).beginElement()}),s*e*1e3)},o=0;o<i.length;o++)s(o);this.synth.triggerRelease(i,n+i.length*e+1.5),this.playlist=[]}},mounted:function(){this.$root.$on("playNote",this.playNote),this.$root.$on("addKey",this.addKey),this.$root.$on("playChord",this.playChord),this.synth=new At["a"]({A2:Ht.a,A4:Ot.a,A6:Vt.a,B1:Bt.a,D2:Gt.a,D4:It.a,D6:Rt.a,E1:Yt.a,D7:Ut.a,G1:Wt.a,G3:Qt.a,G5:ee.a}).toDestination()}},ne=ie,se=Object(g["a"])(ne,Et,Dt,!1,null,"7adc2789",null),oe=se.exports,re=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("md-dialog",{attrs:{"md-active":t.showDialog},on:{"update:mdActive":function(e){t.showDialog=e},"update:md-active":function(e){t.showDialog=e}}},[i("md-dialog-title",[t._v("Harpejji® Tabs")]),i("md-dialog-content",[i("div",{staticClass:"dialog-content"},[i("p",[t._v("Harpejji® Tabs is a web app allowing you to create and share Harpejji® Tablatures.")]),i("p",[t._v(" Select the Harpejji® size by creating a new document then select your workzone by clicking on Reframe. ")]),i("h3",[t._v("Shortcuts")]),i("ul",[i("li",[i("span",[t._v("R")]),t._v(" Set note range ")]),i("li",[i("span",[t._v("Ctrl+S")]),t._v(" Save ")]),i("li",[i("span",[t._v("Ctrl+O")]),t._v(" Load ")]),i("li",[i("span",[t._v("P")]),t._v(" Play simultaneously ")]),i("li",[i("span",[t._v("S")]),t._v(" Play sequentially ")]),i("li",[i("span",[t._v("F")]),t._v(" Show frets and strings numbers ")]),i("li",[i("span",[t._v("N")]),t._v(" Show notes names ")]),i("li",[i("span",[t._v("M")]),t._v(" Play note on click ")]),i("li",[i("span",[t._v("L")]),t._v(" Left hand mode ")])]),i("h3",[t._v("Credit")]),i("div",{staticStyle:{"text-align":"center"}},[i("p",[t._v("Developped by Nicolas Laoun")]),i("p",[t._v("Supervised by "),i("a",{attrs:{href:"http://www.matthieuamiguet.ch/",target:"_blank"}},[t._v("Matthieu Amiguet")]),t._v(" and David Grunenwald")]),i("a",{attrs:{href:"https://www.marcodi.com/",target:"_blank"}},[i("img",{attrs:{src:"img/logo_Marcodi.webp",alt:"Logo Marcodi",width:"300px"}})]),i("a",{attrs:{href:"https://www.he-arc.ch/",target:"_blank"}},[i("img",{attrs:{src:"img/logo_HE-Arc.png",alt:"Logo HE-Arc",width:"200px"}})]),i("a",{attrs:{href:"https://www.lescheminsdetraverse.net/",target:"_blank"}},[i("img",{attrs:{src:"img/logo_lescheminsdetraverse.svg",alt:"Logo Les Chemins de Traverse",width:"200px"}})])])])]),i("md-dialog-actions",[i("div",{staticClass:"btn-close",on:{click:function(e){t.showDialog=!1}}},[t._v("Close")])])],1)},ae=[],ce={name:"Informations",data:function(){return{showDialog:!1}},mounted:function(){var t=this;this.$root.$on("displayInformations",(function(){t.showDialog=!0}))}},le=ce,ue=(i("65e0"),Object(g["a"])(le,re,ae,!1,null,"09a5c35c",null)),de=ue.exports,he=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("md-dialog",{attrs:{"md-active":t.showDialog},on:{"update:mdActive":function(e){t.showDialog=e},"update:md-active":function(e){t.showDialog=e}}},[i("md-dialog-title",[t._v("Library")]),i("md-dialog-content",[i("div",{staticClass:"library-container"},t._l(t.librarySize,(function(e){return i("div",{key:"scale"+e,staticClass:"library-item",on:{click:function(i){return t.select(e)}}},[i("img",{attrs:{src:"library/"+e+".svg",alt:"Tablature "+e}})])})),0)]),i("md-dialog-actions",[i("div",{staticClass:"btn-close",on:{click:function(e){t.showDialog=!1}}},[t._v("Close")])])],1)},fe=[],me=i("bc3a"),pe=i.n(me),ge={name:"Library",data:function(){return{showDialog:!1,librarySize:42}},methods:{select:function(t){var e=this;pe.a.get("library/"+t+".htab").then((function(t){e.changeTablature(t.data)})),this.showDialog=!1},changeTablature:function(t){var e=this,i="";this.currentHarpejji!==t.s&&(i=this.currentHarpejji),K(t,window.tablature),""!==i&&setTimeout((function(){e.$root.$emit("changeHarpejji",i)}),500)}},computed:Object(c["a"])({},Object(w["c"])(["currentHarpejji"])),mounted:function(){var t=this;this.$root.$on("displayLibrary",(function(){t.showDialog=!0}))}},ve=ge,ye=(i("10bf"),i("bddb"),Object(g["a"])(ve,he,fe,!1,null,"c26bad04",null)),we=ye.exports,be={name:"App",components:{Informations:de,SoundPlayer:oe,Contextual:Mt,Tablature:rt,Toolsbar:xt,Library:we}},xe=be,_e=(i("034f"),Object(g["a"])(xe,s,o,!1,null,null,null)),$e=_e.exports;n["default"].use(w["a"]);var je=new w["a"].Store({state:{frets_spacing:60,string_spacing:30,padding:20,marker_width:15,marker_height:25,text_height:20,currentHarpejji:"K24",leftHandMode:!1,harpejjis:{U12:{number_string:12,number_frets:15,c1:2,c2:1,c3:3,c2_2:1},G16:{number_string:16,number_frets:19,c1:6,c2:3,c3:3,c2_2:1},K24:{number_string:24,number_frets:15,c1:-1,c2:5,c3:1,c2_2:0}},zone:{x1:15,y1:3,x2:22,y2:6},title:"",showNumbers:!1,showNotes:!1,showBorder:!1,playNotes:!0,isFreeMode:!1,selected:[],hasBeenModified:!1},getters:{getCurrentHarpejji:function(t){return t.harpejjis[t.currentHarpejji]}},mutations:{changeZone:function(t,e){t.zone.x1=e.x1,t.zone.x2=e.x2,t.zone.y1=e.y1,t.zone.y2=e.y2},changeTitle:function(t,e){t.title=e},updateShowNumbers:function(t,e){t.showNumbers=e},updateShowNotes:function(t,e){t.showNotes=e},updateShowBorder:function(t,e){t.showBorder=e},updatePlayNotes:function(t,e){t.playNotes=e},addToSelection:function(t,e){t.selected.push(e)},resetSelection:function(t){t.selected=[]},changeHarpejji:function(t,e){t.currentHarpejji=e},hasBeenModified:function(t,e){t.hasBeenModified=!0},hasBeenSaved:function(t){t.hasBeenModified=!1},changeFreeMode:function(t,e){t.isFreeMode=e},changeLeftHandMode:function(t){t.leftHandMode=!t.leftHandMode}},actions:{changeZone:function(t,e){t.commit("changeZone",e)},changeTitle:function(t,e){t.commit("changeTitle",e)}}}),Ce=i("9c30"),ke=(i("51de"),i("e094"),i("ecee")),Se=i("c074"),Me=i("b702"),Ee=i("ad3d"),De=i("9483");Object(De["a"])("".concat("/harpejjitabs/","service-worker.js"),{ready:function(){},registered:function(){},cached:function(){},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),n["default"].use(Ce["MdDrawer"]),n["default"].use(Ce["MdList"]),n["default"].use(Ce["MdSwitch"]),n["default"].use(Ce["MdDivider"]),n["default"].use(Ce["MdMenu"]),n["default"].use(Ce["MdDialog"]),ke["c"].add(Se["a"],Se["f"],Se["j"],Se["h"],Se["i"],Se["k"],Se["p"],Se["n"],Se["o"],Se["s"],Se["r"],Se["m"],Se["q"],Se["c"],Se["e"],Se["d"],Se["g"],Se["l"],Me["b"],Me["a"],Se["b"]),n["default"].component("font-awesome-icon",Ee["a"]),n["default"].config.productionTip=!1,new n["default"]({store:je,render:function(t){return t($e)}}).$mount("#app")},"57f2":function(t,e,i){},"59da":function(t,e,i){t.exports=i.p+"media/G3.38b96c8d.mp3"},"5c78":function(t,e,i){t.exports=i.p+"media/A2.2bf6f735.mp3"},"65e0":function(t,e,i){"use strict";i("e162")},"817d":function(t,e,i){t.exports=i.p+"media/D4.75ff4a48.mp3"},8504:function(t,e,i){t.exports=i.p+"media/G1.377b253d.mp3"},"85ec":function(t,e,i){},8693:function(t,e,i){},"8f0f":function(t,e,i){},a570:function(t,e,i){t.exports=i.p+"media/A6.d79d5c1a.mp3"},ad9b:function(t,e,i){},ad9e:function(t,e,i){},bddb:function(t,e,i){"use strict";i("ad9b")},d2bd:function(t,e,i){"use strict";i("0b55")},d5b4:function(t,e,i){"use strict";i("49c9")},d778:function(t,e,i){},d7dd:function(t,e,i){"use strict";i("8693")},d9f1:function(t,e,i){t.exports=i.p+"media/D7.342938ad.mp3"},deb6:function(t,e,i){"use strict";i("8f0f")},e162:function(t,e,i){},f644:function(t,e){window.mod=function(t,e){return(t%e+e)%e}},f658:function(t,e,i){"use strict";i("199e")},ffa6:function(t,e,i){t.exports=i.p+"media/D6.037491e6.mp3"}});
//# sourceMappingURL=app.c7ec73b3.js.map